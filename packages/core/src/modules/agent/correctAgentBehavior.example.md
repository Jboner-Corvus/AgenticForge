# Exemple de comportement correct de l'agent\n\n## Scénario : Création d'un jeu Duke Nukem\n\nUSER:\nCreate Duke Nukem game and display demo in canvas\n\nASSISTANT:\n```json\n{\n  \"thought\": \"Demande de création de jeu (Duke Nukem) avec affichage demo. C'est une demande de CREATION → Je DOIS immédiatement créer une todo list sans poser de questions.\",\n  \"command\": {\n    \"name\": \"enhanced_todo_list\",\n    \"params\": {\n      \"action\": \"create_project\",\n      \"project\": {\n        \"completedTasks\": 0,\n        \"createdAt\": 1700000000000,\n        \"description\": \"Platformer/Shooter Rétro inspiré de Duke Nukem\",\n        \"id\": \"duke-nukem-project\",\n        \"name\": \"Jeu Duke Nukem\",\n        \"progress\": 0,\n        \"status\": \"planning\",\n        \"totalTasks\": 5,\n        \"updatedAt\": 1700000000000\n      },\n      \"title\": \"Jeu Duke Nukem - Platformer/Shooter Rétro\"\n    }\n  }\n}\n```\n\nASSISTANT's next turn:\n```json\n{\n  \"thought\": \"Projet créé. Maintenant je vais créer les tâches pour le développement du jeu.\",\n  \"command\": {\n    \"name\": \"enhanced_todo_list\",\n    \"params\": {\n      \"action\": \"create_task\",\n      \"tasks\": [\n        {\n          \"content\": \"Créer le moteur de jeu HTML5 Canvas avec physics\",\n          \"createdAt\": 1700000000000,\n          \"id\": \"1\",\n          \"status\": \"pending\",\n          \"updatedAt\": 1700000000000\n        },\n        {\n          \"content\": \"Programmer le système de contrôles (mouvement, saut, tir)\",\n          \"createdAt\": 1700000000000,\n          \"id\": \"2\",\n          \"status\": \"pending\",\n          \"updatedAt\": 1700000000000\n        },\n        {\n          \"content\": \"Créer les sprites et animations du personnage\",\n          \"createdAt\": 1700000000000,\n          \"id\": \"3\",\n          \"status\": \"pending\",\n          \"updatedAt\": 1700000000000\n        },\n        {\n          \"content\": \"Ajouter ennemis, plateformes et level design\",\n          \"createdAt\": 1700000000000,\n          \"id\": \"4\",\n          \"status\": \"pending\",\n          \"updatedAt\": 1700000000000\n        },\n        {\n          \"content\": \"Afficher le jeu complet dans le canvas\",\n          \"createdAt\": 1700000000000,\n          \"id\": \"5\",\n          \"status\": \"pending\",\n          \"updatedAt\": 1700000000000\n        }\n      ],\n      \"title\": \"Jeu Duke Nukem - Platformer/Shooter Rétro\"\n    }\n  }\n}\n```\n\nASSISTANT's next turn:\n```json\n{\n  \"thought\": \"Todo list créée. Maintenant je vais commencer à travailler sur la première tâche : créer le moteur de jeu. Je vais créer le fichier HTML du jeu.\",\n  \"command\": {\n    \"name\": \"writeFile\",\n    \"params\": {\n      \"path\": \"duke-nukem-game.html\",\n      \"content\": \"<!DOCTYPE html>\\n<html>\\n<head>\\n  <title>Duke Nukem Game</title>\\n  <style>body { margin: 0; overflow: hidden; background: #000; } canvas { display: block; }</style>\\n</head>\\n<body>\\n  <canvas id=\\\"gameCanvas\\\"></canvas>\\n  <script>\\n    const canvas = document.getElementById('gameCanvas');\\n    const ctx = canvas.getContext('2d');\\n    canvas.width = window.innerWidth;\\n    canvas.height = window.innerHeight;\\n    \\n    // Game objects\\n    const player = { x: 50, y: canvas.height - 100, width: 40, height: 60, speed: 5, velY: 0, jumping: false };\\n    const gravity = 0.5;\\n    \\n    // Game loop\\n    function gameLoop() {\\n      // Clear canvas\\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\\n      \\n      // Apply gravity\\n      player.velY += gravity;\\n      player.y += player.velY;\\n      \\n      // Ground collision\\n      if (player.y > canvas.height - player.height) {\\n        player.y = canvas.height - player.height;\\n        player.velY = 0;\\n        player.jumping = false;\\n      }\\n      \\n      // Draw player\\n      ctx.fillStyle = '#00f';\\n      ctx.fillRect(player.x, player.y, player.width, player.height);\\n      \\n      requestAnimationFrame(gameLoop);\\n    }\\n    \\n    // Controls\\n    const keys = {};\\n    window.addEventListener('keydown', e => keys[e.key] = true);\\n    window.addEventListener('keyup', e => keys[e.key] = false);\\n    \\n    setInterval(() => {\\n      if (keys['ArrowLeft']) player.x -= player.speed;\\n      if (keys['ArrowRight']) player.x += player.speed;\\n      if (keys[' '] && !player.jumping) {\\n        player.velY = -15;\\n        player.jumping = true;\\n      }\\n    }, 1000/60);\\n    \\n    // Start game\\n    gameLoop();\\n  </script>\\n</body>\\n</html>\"\n    }\n  }\n}\n```\n\nASSISTANT's next turn:\n```json\n{\n  \"thought\": \"Fichier HTML du jeu créé. Maintenant je vais l'afficher dans le canvas pour que l'utilisateur puisse le voir.\",\n  \"command\": {\n    \"name\": \"display_canvas\",\n    \"params\": {\n      \"content\": \"<!DOCTYPE html>\\n<html>\\n<head>\\n  <title>Duke Nukem Game</title>\\n  <style>body { margin: 0; overflow: hidden; background: #000; } canvas { display: block; }</style>\\n</head>\\n<body>\\n  <canvas id=\\\"gameCanvas\\\"></canvas>\\n  <script>\\n    const canvas = document.getElementById('gameCanvas');\\n    const ctx = canvas.getContext('2d');\\n    canvas.width = window.innerWidth;\\n    canvas.height = window.innerHeight;\\n    \\n    // Game objects\\n    const player = { x: 50, y: canvas.height - 100, width: 40, height: 60, speed: 5, velY: 0, jumping: false };\\n    const gravity = 0.5;\\n    \\n    // Game loop\\n    function gameLoop() {\\n      // Clear canvas\\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\\n      \\n      // Apply gravity\\n      player.velY += gravity;\\n      player.y += player.velY;\\n      \\n      // Ground collision\\n      if (player.y > canvas.height - player.height) {\\n        player.y = canvas.height - player.height;\\n        player.velY = 0;\\n        player.jumping = false;\\n      }\\n      \\n      // Draw player\\n      ctx.fillStyle = '#00f';\\n      ctx.fillRect(player.x, player.y, player.width, player.height);\\n      \\n      requestAnimationFrame(gameLoop);\\n    }\\n    \\n    // Controls\\n    const keys = {};\\n    window.addEventListener('keydown', e => keys[e.key] = true);\\n    window.addEventListener('keyup', e => keys[e.key] = false);\\n    \\n    setInterval(() => {\\n      if (keys['ArrowLeft']) player.x -= player.speed;\\n      if (keys['ArrowRight']) player.x += player.speed;\\n      if (keys[' '] && !player.jumping) {\\n        player.velY = -15;\\n        player.jumping = true;\\n      }\\n    }, 1000/60);\\n    \\n    // Start game\\n    gameLoop();\\n  </script>\\n</body>\\n</html>\",\n      \"contentType\": \"html\"\n    }\n  }\n}\n```\n\nASSISTANT's next turn:\n```json\n{\n  \"thought\": \"Jeu affiché dans le canvas. Maintenant je vais mettre à jour la todo list pour indiquer que la première tâche est terminée et commencer la suivante.\",\n  \"command\": {\n    \"name\": \"enhanced_todo_list\",\n    \"params\": {\n      \"action\": \"update_task\",\n      \"status\": \"completed\",\n      \"taskId\": \"1\",\n      \"title\": \"Jeu Duke Nukem - Platformer/Shooter Rétro\"\n    }\n  }\n}\n```\n\nASSISTANT's next turn:\n```json\n{\n  \"thought\": \"Première tâche terminée. Maintenant je vais commencer la deuxième tâche : programmer le système de contrôles.\",\n  \"command\": {\n    \"name\": \"agent_thought\",\n    \"params\": {\n      \"thought\": \"Je vais maintenant améliorer le système de contrôles du jeu en ajoutant plus de fonctionnalités comme le tir et l'animation du personnage.\"\n    }\n  }\n}\n```