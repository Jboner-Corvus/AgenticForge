{"version":3,"file":"redisClient.js","sourceRoot":"","sources":["redisClient.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAEhC,OAAO,MAAM,MAAM,aAAa,CAAC;AAEjC,MAAM,QAAQ,GACZ,OAAO,CAAC,GAAG,CAAC,SAAS;IACrB,WAAW,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,WAAW,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,MAAM,EAAE,CAAC;AAEpK,MAAM,CAAC,IAAI,CAAC,uDAAuD,QAAQ,EAAE,CAAC,CAAC;AAE/E,MAAM,CAAC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,oBAAoB,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzE,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAU,EAAE,EAAE;IAC/B,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,EAAE,oBAAoB,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC","sourcesContent":["import { Redis } from 'ioredis';\n\nimport logger from './logger.js';\n\nconst redisUrl =\n  process.env.REDIS_URL ||\n  `redis://${process.env.REDIS_PASSWORD ? ':' + process.env.REDIS_PASSWORD + '@' : ''}${process.env.REDIS_HOST || 'localhost'}:${process.env.REDIS_PORT || '6378'}`;\n\nlogger.info(`[redisClient] Attempting Redis connection with URL: ${redisUrl}`);\n\nexport const redis = new Redis(redisUrl, { maxRetriesPerRequest: null });\n\nredis.on('error', (err: Error) => {\n  logger.error({ err }, 'Redis Client Error');\n});\n"]}